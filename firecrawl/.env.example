# =============================================================================
# Firecrawl Configuration
# Web scraping API with Playwright, PostgreSQL, Redis, and Ollama integration
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED - Auto-generated by setup script)
# -----------------------------------------------------------------------------
# PostgreSQL connection (uses common-postgres service)
# Database 'firecrawl' is auto-created by common/init-db.sql
POSTGRES_USER=postgres
POSTGRES_PASSWORD=GENERATE_RANDOM_32

# -----------------------------------------------------------------------------
# Ollama LLM Integration (OPTIONAL but RECOMMENDED)
# -----------------------------------------------------------------------------
# Use local Ollama for JSON formatting and content extraction
OLLAMA_BASE_URL=http://host.docker.internal:11434/api
MODEL_NAME=gpt-oss
MODEL_EMBEDDING_NAME=nomic-embed-text

# Alternative: OpenAI-Compatible API with Ollama
# OPENAI_BASE_URL=http://host.docker.internal:11434/v1
# OPENAI_API_KEY=ollama

# Alternative: Real OpenAI API (costs money)
# OPENAI_API_KEY=sk-your-key-here

# -----------------------------------------------------------------------------
# SearXNG Integration (REQUIRED - Pre-configured)
# -----------------------------------------------------------------------------
# Connect to local SearXNG for search capabilities
SEARXNG_API_URL=http://searxng:8080

# -----------------------------------------------------------------------------
# Proxy Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Uncomment to use a proxy for web scraping
# Useful for bypassing rate limits or accessing geo-restricted content

# Format: protocol://host:port
# PROXY_SERVER=http://proxy-server:port
# PROXY_USERNAME=username
# PROXY_PASSWORD=password

# Alternative: Direct HTTP/HTTPS proxy environment variables
# HTTP_PROXY=http://proxy-server:port
# HTTPS_PROXY=https://proxy-server:port

# Block media files to improve performance
# BLOCK_MEDIA=true

# -----------------------------------------------------------------------------
# Monitoring & Logging (OPTIONAL)
# -----------------------------------------------------------------------------
# Uncomment to enable analytics and logging
# POSTHOG_API_KEY=your-posthog-key
# POSTHOG_HOST=https://app.posthog.com
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# -----------------------------------------------------------------------------
# Resource Limits (OPTIONAL)
# -----------------------------------------------------------------------------
# Set CPU and RAM usage limits (percentage)
MAX_CPU_USAGE=80
MAX_RAM_USAGE=80

# -----------------------------------------------------------------------------
# Service Information
# -----------------------------------------------------------------------------
# Access URL: http://firecrawl.localhost
#
# Features:
# - RESTful API for web scraping
# - JavaScript rendering via Playwright
# - LLM-based content extraction with Ollama
# - PostgreSQL storage for crawl jobs and results
# - Redis caching and rate limiting
# - SearXNG search integration
#
# Dependencies:
# - common-postgres (database)
# - common-redis (cache/queue)
# - searxng (search)
# - playwright (headless browser)
# - host Ollama (optional LLM features)
